+++ dirname ./setup-testbed.sh
++ cd -- .
++ pwd -P
+ SCRIPT_PATH=/home/montimage/hipnet
+ set -x
+ '[' 0 -ne 0 ']'
+ '[' -z '' ']'
+ export ENABLE_INT=yes
+ ENABLE_INT=yes
+ P4_FILE_PREFIX=switch-l4s
+ [[ 0 == \1 ]]
+ '[' true == '' ']'
+ echo 'No need to compile P4 code'
No need to compile P4 code
+ source environment.sh
++ set -x
++ export IFACE=enp0s8
++ IFACE=enp0s8
++ export REV_IFACE=enp0s9
++ REV_IFACE=enp0s9
++ export MON_IFACE=enp0s10
++ MON_IFACE=enp0s10
++ export SERVER_NET=10.0.1.0/24
++ SERVER_NET=10.0.1.0/24
++ export CLIENT_NET=10.0.0.0/24
++ CLIENT_NET=10.0.0.0/24
++ export SERVER_A=10.0.1.11
++ SERVER_A=10.0.1.11
++ export SERVER_B=10.0.1.12
++ SERVER_B=10.0.1.12
++ export CLIENT_A=10.0.0.11
++ CLIENT_A=10.0.0.11
++ export CLIENT_B=10.0.0.12
++ CLIENT_B=10.0.0.12
++ export CLIENT_A_IFACE=enp0s8
++ CLIENT_A_IFACE=enp0s8
++ export CLIENT_B_IFACE=enp0s8
++ CLIENT_B_IFACE=enp0s8
++ export SERVER_A_IFACE=enp0s8
++ SERVER_A_IFACE=enp0s8
++ export SERVER_B_IFACE=enp0s8
++ SERVER_B_IFACE=enp0s8
++ export MMT_IP=10.0.30.2
++ MMT_IP=10.0.30.2
++ export MMT_IFACE=enp0s8
++ MMT_IFACE=enp0s8
++ export SERVER_A_CTRL=192.168.1.104
++ SERVER_A_CTRL=192.168.1.104
++ export SERVER_B_CTRL=192.168.1.105
++ SERVER_B_CTRL=192.168.1.105
++ export CLIENT_A_CTRL=192.168.1.100
++ CLIENT_A_CTRL=192.168.1.100
++ export CLIENT_B_CTRL=192.168.1.103
++ CLIENT_B_CTRL=192.168.1.103
+ export LOG=/home/montimage/hipnet/log
+ LOG=/home/montimage/hipnet/log
+ mkdir -p /home/montimage/hipnet/log
++ get-mac enp0s8
++ iface=enp0s8
++ cat /sys/class/net/enp0s8/address
+ export IFACE_MAC=08:00:27:55:c7:75
+ IFACE_MAC=08:00:27:55:c7:75
++ get-mac enp0s9
++ iface=enp0s9
++ cat /sys/class/net/enp0s9/address
+ export REV_IFACE_MAC=08:00:27:32:3c:0d
+ REV_IFACE_MAC=08:00:27:32:3c:0d
++ get-mac enp0s10
++ iface=enp0s10
++ cat /sys/class/net/enp0s10/address
+ export MON_IFACE_MAC=08:00:27:ef:9f:28
+ MON_IFACE_MAC=08:00:27:ef:9f:28
++ get-remote-mac 192.168.1.100 enp0s8
++ ip=192.168.1.100
++ iface=enp0s8
++ run-on-host 192.168.1.100 cat /sys/class/net/enp0s8/address
++ '[' 3 -lt 2 ']'
++ hostname=192.168.1.100
++ shift
++ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.100 -- cat /sys/class/net/enp0s8/address
+ export CLIENT_A_MAC=08:00:27:fe:18:fc
+ CLIENT_A_MAC=08:00:27:fe:18:fc
++ get-remote-mac 192.168.1.103 enp0s8
++ ip=192.168.1.103
++ iface=enp0s8
++ run-on-host 192.168.1.103 cat /sys/class/net/enp0s8/address
++ '[' 3 -lt 2 ']'
++ hostname=192.168.1.103
++ shift
++ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- cat /sys/class/net/enp0s8/address
+ export CLIENT_B_MAC=08:00:27:72:8a:ae
+ CLIENT_B_MAC=08:00:27:72:8a:ae
++ get-remote-mac 192.168.1.104 enp0s8
++ ip=192.168.1.104
++ iface=enp0s8
++ run-on-host 192.168.1.104 cat /sys/class/net/enp0s8/address
++ '[' 3 -lt 2 ']'
++ hostname=192.168.1.104
++ shift
++ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.104 -- cat /sys/class/net/enp0s8/address
+ export SERVER_A_MAC=08:00:27:66:48:02
+ SERVER_A_MAC=08:00:27:66:48:02
++ get-remote-mac 192.168.1.105 enp0s8
++ ip=192.168.1.105
++ iface=enp0s8
++ run-on-host 192.168.1.105 cat /sys/class/net/enp0s8/address
++ '[' 3 -lt 2 ']'
++ hostname=192.168.1.105
++ shift
++ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- cat /sys/class/net/enp0s8/address
+ export SERVER_B_MAC=08:00:27:38:99:15
+ SERVER_B_MAC=08:00:27:38:99:15
+ arp -s 10.0.1.11 08:00:27:66:48:02
+ arp -s 10.0.1.12 08:00:27:38:99:15
+ arp -s 10.0.0.11 08:00:27:fe:18:fc
+ arp -s 10.0.0.12 08:00:27:72:8a:ae
++ get-ip enp0s8
++ iface=enp0s8
++ /sbin/ip -o -4 addr list enp0s8
++ awk '{print $4}'
++ cut -d/ -f1
+ IFACE_IP=10.0.0.1
++ get-ip enp0s9
++ iface=enp0s9
++ /sbin/ip -o -4 addr list enp0s9
++ awk '{print $4}'
++ cut -d/ -f1
+ REV_IFACE_IP=10.0.1.1
+ run-on-host 192.168.1.100 sudo route add -net 10.0.1.0/24 gw 10.0.0.1
+ '[' 8 -lt 2 ']'
+ hostname=192.168.1.100
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.100 -- sudo route add -net 10.0.1.0/24 gw 10.0.0.1
SIOCADDRT: File exists
+ run-on-host 192.168.1.103 sudo route add -net 10.0.1.0/24 gw 10.0.0.1
+ '[' 8 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- sudo route add -net 10.0.1.0/24 gw 10.0.0.1
SIOCADDRT: File exists
+ run-on-host 192.168.1.104 sudo route add -net 10.0.0.0/24 gw 10.0.1.1
+ '[' 8 -lt 2 ']'
+ hostname=192.168.1.104
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.104 -- sudo route add -net 10.0.0.0/24 gw 10.0.1.1
SIOCADDRT: File exists
+ run-on-host 192.168.1.105 sudo route add -net 10.0.0.0/24 gw 10.0.1.1
+ '[' 8 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- sudo route add -net 10.0.0.0/24 gw 10.0.1.1
SIOCADDRT: File exists
+ run-on-host 192.168.1.100 sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ '[' 13 -lt 2 ']'
+ hostname=192.168.1.100
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.100 -- sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ run-on-host 192.168.1.103 sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ '[' 13 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- sudo ethtool -K enp0s8 tso off gso off gro off tx off
Cannot get device udp-fragmentation-offload settings: Operation not supported
Cannot get device udp-fragmentation-offload settings: Operation not supported
+ run-on-host 192.168.1.104 sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ '[' 13 -lt 2 ']'
+ hostname=192.168.1.104
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.104 -- sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ run-on-host 192.168.1.105 sudo ethtool -K enp0s8 tso off gso off gro off tx off
+ '[' 13 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- sudo ethtool -K enp0s8 tso off gso off gro off tx off
Cannot get device udp-fragmentation-offload settings: Operation not supported
Cannot get device udp-fragmentation-offload settings: Operation not supported
+ config-nic enp0s8
+ NIC=enp0s8
+ ip link set enp0s8 mtu 1500
+ ethtool -K enp0s8 tso off gso off gro off tx off
+ sysctl net.ipv6.conf.enp0s8.disable_ipv6=1
net.ipv6.conf.enp0s8.disable_ipv6 = 1
+ config-nic enp0s9
+ NIC=enp0s9
+ ip link set enp0s9 mtu 1500
+ ethtool -K enp0s9 tso off gso off gro off tx off
+ sysctl net.ipv6.conf.enp0s9.disable_ipv6=1
net.ipv6.conf.enp0s9.disable_ipv6 = 1
+ sysctl -w net.ipv4.ip_forward=0
net.ipv4.ip_forward = 0
+ ip link set enp0s10 mtu 2000
+ killall simple_switch
simple_switch: no process found
+ SIMPLE_SWITCH='/home/montimage/bertrand-behavioral-model/targets/simple_switch/simple_switch --queue 2  --ll_queue 64 --BE_queue 128'
+ DEBUG='--log-file log/sw.log  --log-level info --pcap log/'
+ DEBUG=
+ SW_PID=2824
+ renice -n -10 -p 2824
+ /home/montimage/bertrand-behavioral-model/targets/simple_switch/simple_switch --queue 2 --ll_queue 64 --BE_queue 128 -i 1@enp0s8 -i 2@enp0s9 -i 3@enp0s10 switch-l4s.json
2824 (process ID) old priority 0, new priority -10
+ taskset -c 0-4 -p 2824
taskset: failed to execute -p: No such file or directory
+ sleep 2
+ monitor_cpu_memory 2824
+ PID=2824
+ FILE_NAME=log/cpu_mem_int_yes_pid_2824
+ /home/montimage/.local/bin/psrecord 2824 --log log/cpu_mem_int_yes_pid_2824.txt --duration 320 --interval 1 --include-children
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: Setting default action of ipv4_lpm
action:              drop
runtime data:        
RuntimeCmd: Setting default action of ipv4_lpm
action:              drop
runtime data:        
RuntimeCmd: Adding entry to exact match table ipv4_lpm
match key:           EXACT-0a:00:00:0b
action:              ipv4_forward
runtime data:        08:00:27:55:c7:75	08:00:27:fe:18:fc	00:01
Entry has been added with handle 0
RuntimeCmd: Adding entry to exact match table ipv4_lpm
match key:           EXACT-0a:00:00:0c
action:              ipv4_forward
runtime data:        08:00:27:55:c7:75	08:00:27:72:8a:ae	00:01
Entry has been added with handle 1
RuntimeCmd: Adding entry to exact match table ipv4_lpm
match key:           EXACT-0a:00:01:0b
action:              ipv4_forward
runtime data:        08:00:27:32:3c:0d	08:00:27:66:48:02	00:02
Entry has been added with handle 2
RuntimeCmd: Adding entry to exact match table ipv4_lpm
match key:           EXACT-0a:00:01:0c
action:              ipv4_forward
runtime data:        08:00:27:32:3c:0d	08:00:27:38:99:15	00:02
Entry has been added with handle 3
RuntimeCmd: 
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: Adding entry to exact match table select_PI2_param
match key:           
action:              set_PI2_param
runtime data:        00:00:05:3e	00:00:34:6d	00:00:3a:98	0e
Entry has been added with handle 0
RuntimeCmd: Adding entry to exact match table select_L4S_param
match key:           
action:              set_L4S_param
runtime data:        00:00:13:88	00:00:0b:b8	00	00:00:05:dc	15
Entry has been added with handle 0
RuntimeCmd: 
+ [[ yes == \y\e\s ]]
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: Error: Invalid table name (tb_int_config_transit)
RuntimeCmd: 
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: Adding entry to ternary match table tb_int_config_source
match key:           TERNARY-0a:00:00:0b &&& 00:00:00:00	TERNARY-13:89 &&& 00:00	TERNARY-0a:00:01:0b &&& 00:00:00:00	TERNARY-13:89 &&& 00:00
action:              set_source
runtime data:        04	0a	ff:ff
Entry has been added with handle 0
RuntimeCmd: 
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: Error: Invalid table name (tb_int_config_sink)
RuntimeCmd: 
+ cat
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: RuntimeCmd: 
+ . /home/montimage/hipnet/monitoring-mmt-tcpdump.sh
++++ dirname ./setup-testbed.sh
+++ cd -- .
+++ pwd -P
++ SCRIPT_PATH=/home/montimage/hipnet
++ MMT_CONFIG_FILE=/home/montimage/hipnet/mmt-probe.conf
+++ cat
++ MMT_ATTRIBUTES='	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"udp.src_port","udp.dest_port","udp.len",
	"tcp.src_port","tcp.dest_port","tcp.payload_len","tcp.seq_nb","tcp.ack_nb","tcp.tsval","tcp.tsecr",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.hop_tx_utilizes"'
+++ echo '	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"udp.src_port","udp.dest_port","udp.len",
	"tcp.src_port","tcp.dest_port","tcp.payload_len","tcp.seq_nb","tcp.ack_nb","tcp.tsval","tcp.tsecr",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.hop_tx_utilizes"'
+++ sed --expression=s/int.hop_tx_utilizes/int.mark_probability/
++ MMT_ATTRIBUTES_HEADERS='	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"udp.src_port","udp.dest_port","udp.len",
	"tcp.src_port","tcp.dest_port","tcp.payload_len","tcp.seq_nb","tcp.ack_nb","tcp.tsval","tcp.tsecr",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.mark_probability"'
++ ACTION=
++ [[ '' == \c\o\m\b\i\n\e\-\m\m\t\-\c\s\v\-\f\i\l\e\s ]]
+ start-monitoring
+ cd -- /home/montimage/hipnet/log
+ log 'start pcap dump'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123251 ' 'start pcap dump'
20230322-123251  start pcap dump
+ FILTER='tcp or udp'
+ tcpdump --snapshot-length=128 -i enp0s8 -w enp0s8-data.pcap 'tcp or udp'
+ sleep 1
+ tcpdump --snapshot-length=176 -i enp0s10 -w enp0s10-int.pcap 'tcp or udp'
+ tcpdump --snapshot-length=128 -i enp0s9 -w enp0s9-data.pcap 'tcp or udp'
tcpdump: listening on enp0s10, link-type EN10MB (Ethernet), capture size 176 bytes
tcpdump: listening on enp0s8, link-type EN10MB (Ethernet), capture size 128 bytes
tcpdump: listening on enp0s9, link-type EN10MB (Ethernet), capture size 128 bytes
+ cp -- /home/montimage/hipnet/mmt-probe.conf ./mmt-probe.conf
+ generate-monitor-config
+ cat
++ date
+ log 'start mmt-probe'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123252 ' 'start mmt-probe'
20230322-123252  start mmt-probe
+ sleep 2
+ mmt-probe -c ./mmt-probe.conf -i enp0s10
+ echo '*******testbed is ready*******'
*******testbed is ready*******
+ cd -- /home/montimage/hipnet
+ [[ /home/montimage/hipnet/measure--calibrate/start-monitoring.sh == '' ]]
+ bash -x /home/montimage/hipnet/measure--calibrate/start-monitoring.sh
+ [[ iperf3 == \i\p\e\r\f\3 ]]
+ SERVER_DATA=10.0.1.12
+ CLIENT_DATA=10.0.0.12
+ SERVER_CTRL=192.168.1.105
+ CLIENT_CTRL=192.168.1.103
+ SERVER_IFACE=enp0s8
+ CLIENT_IFACE=enp0s8
+ export FILE_SIZE=1000
+ FILE_SIZE=1000
+ date
Wed Mar 22 12:32:54 UTC 2023
+ set -x
+++ dirname /home/montimage/hipnet/measure--calibrate/start-monitoring.sh
++ cd -- /home/montimage/hipnet/measure--calibrate
++ pwd -P
+ SCRIPT_PATH=/home/montimage/hipnet/measure--calibrate
+ . /home/montimage/hipnet/measure--calibrate/../environment.sh
++ set -x
++ export IFACE=enp0s8
++ IFACE=enp0s8
++ export REV_IFACE=enp0s9
++ REV_IFACE=enp0s9
++ export MON_IFACE=enp0s10
++ MON_IFACE=enp0s10
++ export SERVER_NET=10.0.1.0/24
++ SERVER_NET=10.0.1.0/24
++ export CLIENT_NET=10.0.0.0/24
++ CLIENT_NET=10.0.0.0/24
++ export SERVER_A=10.0.1.11
++ SERVER_A=10.0.1.11
++ export SERVER_B=10.0.1.12
++ SERVER_B=10.0.1.12
++ export CLIENT_A=10.0.0.11
++ CLIENT_A=10.0.0.11
++ export CLIENT_B=10.0.0.12
++ CLIENT_B=10.0.0.12
++ export CLIENT_A_IFACE=enp0s8
++ CLIENT_A_IFACE=enp0s8
++ export CLIENT_B_IFACE=enp0s8
++ CLIENT_B_IFACE=enp0s8
++ export SERVER_A_IFACE=enp0s8
++ SERVER_A_IFACE=enp0s8
++ export SERVER_B_IFACE=enp0s8
++ SERVER_B_IFACE=enp0s8
++ export MMT_IP=10.0.30.2
++ MMT_IP=10.0.30.2
++ export MMT_IFACE=enp0s8
++ MMT_IFACE=enp0s8
++ export SERVER_A_CTRL=192.168.1.104
++ SERVER_A_CTRL=192.168.1.104
++ export SERVER_B_CTRL=192.168.1.105
++ SERVER_B_CTRL=192.168.1.105
++ export CLIENT_A_CTRL=192.168.1.100
++ CLIENT_A_CTRL=192.168.1.100
++ export CLIENT_B_CTRL=192.168.1.103
++ CLIENT_B_CTRL=192.168.1.103
+ MMT_CONFIG_FILE=/home/montimage/hipnet/measure--calibrate/mmt-probe.conf
+ . /home/montimage/hipnet/measure--calibrate/pre-process-mmt-csv.sh
++ TCP_OR_UDP_ATTRIBUTES='"udp.src_port","udp.dest_port","udp.len"'
++ [[ iperf3 == \i\p\e\r\f\3 ]]
++ TCP_OR_UDP_ATTRIBUTES='"tcp.src_port","tcp.dest_port","tcp.payload_len"'
+++ cat
++ ATTRIBUTES='	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"tcp.src_port","tcp.dest_port","tcp.payload_len",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.hop_tx_utilizes"'
+++ echo '	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"tcp.src_port","tcp.dest_port","tcp.payload_len",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.hop_tx_utilizes"'
+++ sed --expression=s/int.hop_tx_utilizes/int.mark_probability/
++ ATTRIBUTES_HEADERS='	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"tcp.src_port","tcp.dest_port","tcp.payload_len",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.mark_probability"'
++ ACTION=
++ [[ '' == \c\o\m\b\i\n\e\-\m\m\t\-\c\s\v\-\f\i\l\e\s ]]
+ LOG_DIR=/home/montimage/hipnet/log
+ mkdir -p -- /home/montimage/hipnet/log
+ TCP_OR_UDP_PORT=4433
+ log 'start experiment'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123254 ' 'start experiment'
20230322-123254  start experiment
+ ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0 225132  9104 ?        Ss   Feb19   0:20 /lib/systemd/systemd --system --deserialize 38
root         2  0.0  0.0      0     0 ?        S    Feb19   0:00 [kthreadd]
root         4  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/0:0H]
root         6  0.0  0.0      0     0 ?        I<   Feb19   0:00 [mm_percpu_wq]
root         7  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/0]
root         8  0.0  0.0      0     0 ?        I    Feb19  17:06 [rcu_sched]
root         9  0.0  0.0      0     0 ?        I    Feb19   0:00 [rcu_bh]
root        10  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/0]
root        11  0.0  0.0      0     0 ?        S    Feb19   0:19 [watchdog/0]
root        12  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/0]
root        13  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/1]
root        14  0.0  0.0      0     0 ?        S    Feb19   0:22 [watchdog/1]
root        15  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/1]
root        16  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/1]
root        18  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/1:0H]
root        19  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/2]
root        20  0.0  0.0      0     0 ?        S    Feb19   0:25 [watchdog/2]
root        21  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/2]
root        22  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/2]
root        24  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/2:0H]
root        25  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/3]
root        26  0.0  0.0      0     0 ?        S    Feb19   0:43 [watchdog/3]
root        27  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/3]
root        28  0.0  0.0      0     0 ?        S    Feb19   0:01 [ksoftirqd/3]
root        30  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/3:0H]
root        31  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/4]
root        32  0.0  0.0      0     0 ?        S    Feb19   0:49 [watchdog/4]
root        33  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/4]
root        34  0.0  0.0      0     0 ?        S    Feb19   0:01 [ksoftirqd/4]
root        36  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/4:0H]
root        37  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/5]
root        38  0.0  0.0      0     0 ?        S    Feb19   0:27 [watchdog/5]
root        39  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/5]
root        40  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/5]
root        42  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/5:0H]
root        43  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/6]
root        44  0.0  0.0      0     0 ?        S    Feb19   0:26 [watchdog/6]
root        45  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/6]
root        46  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/6]
root        48  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/6:0H]
root        49  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/7]
root        50  0.0  0.0      0     0 ?        S    Feb19   0:28 [watchdog/7]
root        51  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/7]
root        52  0.0  0.0      0     0 ?        S    Feb19   0:11 [ksoftirqd/7]
root        54  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/7:0H]
root        55  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/8]
root        56  0.0  0.0      0     0 ?        S    Feb19   0:28 [watchdog/8]
root        57  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/8]
root        58  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/8]
root        60  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/8:0H]
root        61  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/9]
root        62  0.0  0.0      0     0 ?        S    Feb19   0:22 [watchdog/9]
root        63  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/9]
root        64  0.0  0.0      0     0 ?        S    Feb19   0:06 [ksoftirqd/9]
root        66  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/9:0H]
root        67  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/10]
root        68  0.0  0.0      0     0 ?        S    Feb19   0:21 [watchdog/10]
root        69  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/10]
root        70  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/10]
root        72  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/10:0H]
root        73  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/11]
root        74  0.0  0.0      0     0 ?        S    Feb19   0:21 [watchdog/11]
root        75  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/11]
root        76  0.0  0.0      0     0 ?        S    Feb19   0:31 [ksoftirqd/11]
root        78  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/11:0H]
root        79  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/12]
root        80  0.0  0.0      0     0 ?        S    Feb19   0:20 [watchdog/12]
root        81  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/12]
root        82  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/12]
root        84  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/12:0H]
root        85  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/13]
root        86  0.0  0.0      0     0 ?        S    Feb19   0:23 [watchdog/13]
root        87  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/13]
root        88  0.0  0.0      0     0 ?        S    Feb19   0:01 [ksoftirqd/13]
root        90  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/13:0H]
root        91  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/14]
root        92  0.0  0.0      0     0 ?        S    Feb19   0:15 [watchdog/14]
root        93  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/14]
root        94  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/14]
root        96  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/14:0H]
root        97  0.0  0.0      0     0 ?        S    Feb19   0:00 [cpuhp/15]
root        98  0.0  0.0      0     0 ?        S    Feb19   0:12 [watchdog/15]
root        99  0.0  0.0      0     0 ?        S    Feb19   0:00 [migration/15]
root       100  0.0  0.0      0     0 ?        S    Feb19   0:00 [ksoftirqd/15]
root       102  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/15:0H]
root       103  0.0  0.0      0     0 ?        S    Feb19   0:00 [kdevtmpfs]
root       104  0.0  0.0      0     0 ?        I<   Feb19   0:00 [netns]
root       105  0.0  0.0      0     0 ?        S    Feb19   0:00 [rcu_tasks_kthre]
root       106  0.0  0.0      0     0 ?        S    Feb19   0:00 [kauditd]
root       108  0.0  0.0      0     0 ?        S    Feb19   0:01 [khungtaskd]
root       109  0.0  0.0      0     0 ?        S    Feb19   0:00 [oom_reaper]
root       110  0.0  0.0      0     0 ?        I<   Feb19   0:00 [writeback]
root       111  0.0  0.0      0     0 ?        S    Feb19   0:00 [kcompactd0]
root       112  0.0  0.0      0     0 ?        SN   Feb19   0:00 [ksmd]
root       113  0.0  0.0      0     0 ?        SN   Feb19   0:00 [khugepaged]
root       114  0.0  0.0      0     0 ?        I<   Feb19   0:00 [crypto]
root       115  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kintegrityd]
root       116  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kblockd]
root       117  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ata_sff]
root       118  0.0  0.0      0     0 ?        I<   Feb19   0:00 [md]
root       119  0.0  0.0      0     0 ?        I<   Feb19   0:00 [edac-poller]
root       120  0.0  0.0      0     0 ?        I<   Feb19   0:00 [devfreq_wq]
root       121  0.0  0.0      0     0 ?        I<   Feb19   0:00 [watchdogd]
root       125  0.0  0.0      0     0 ?        I    Feb19  12:46 [kworker/4:1]
root       130  0.0  0.0      0     0 ?        S    Feb19   0:00 [kswapd0]
root       131  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/u33:0]
root       132  0.0  0.0      0     0 ?        S    Feb19   0:00 [ecryptfs-kthrea]
root       174  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kthrotld]
root       175  0.0  0.0      0     0 ?        I<   Feb19   0:00 [acpi_thermal_pm]
root       176  0.0  0.0      0     0 ?        S    Feb19   0:00 [scsi_eh_0]
root       177  0.0  0.0      0     0 ?        I<   Feb19   0:00 [scsi_tmf_0]
root       178  0.0  0.0      0     0 ?        S    Feb19   0:00 [scsi_eh_1]
root       179  0.0  0.0      0     0 ?        I<   Feb19   0:00 [scsi_tmf_1]
root       182  0.0  0.0      0     0 ?        I    Feb19   0:03 [kworker/11:1]
root       186  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ipv6_addrconf]
root       197  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kstrp]
root       215  0.0  0.0      0     0 ?        I<   Feb19   0:00 [charger_manager]
root       218  0.0  0.0      0     0 ?        I    Feb19   0:06 [kworker/7:1]
root       343  0.0  0.0      0     0 ?        S    Feb19   0:00 [scsi_eh_2]
root       344  0.0  0.0      0     0 ?        I<   Feb19   0:00 [scsi_tmf_2]
root       345  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ttm_swap]
root       346  0.0  0.0      0     0 ?        S    Feb19   0:00 [irq/18-vmwgfx]
root       349  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/14:1H]
root       351  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/5:1H]
root       354  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/8:1H]
root       355  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/9:1H]
root       359  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/2:1H]
root       360  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kdmflush]
root       361  0.0  0.0      0     0 ?        I<   Feb19   0:00 [bioset]
root       365  0.0  0.0      0     0 ?        I<   Feb19   0:02 [kworker/13:1H]
root       423  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/13:2]
root       436  0.0  0.0      0     0 ?        I<   Feb19   0:00 [raid5wq]
root       459  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/11:1H]
root       460  0.0  0.0      0     0 ?        I<   Feb19   0:12 [kworker/3:1H]
root       479  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/10:1H]
root       487  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/15:1H]
root       489  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/4:1H]
root       490  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/12:1H]
root       494  0.0  0.0      0     0 ?        S    Feb19   0:09 [jbd2/dm-0-8]
root       495  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ext4-rsv-conver]
root       497  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/6:1H]
root       498  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/0:1H]
root       534  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/1:1H]
root       554  0.0  0.0      0     0 ?        I<   Feb19   0:00 [kworker/7:1H]
root       589  0.0  0.0      0     0 ?        I<   Feb19   0:00 [iscsi_eh]
root       592  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ib-comp-wq]
root       593  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ib-comp-unb-wq]
root       594  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ib_mcast]
root       595  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ib_nl_sa_wq]
root       596  0.0  0.0 105908  1924 ?        Ss   Feb19   0:00 /sbin/lvmetad -f
root       599  0.0  0.0      0     0 ?        I<   Feb19   0:00 [rdma_cm]
root       672  0.0  0.0      0     0 ?        I<   Feb19   0:00 [iprt-VBoxWQueue]
root       680  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/5:1]
root       697  0.0  0.0      0     0 ?        I<   Mar03   0:00 [xfsalloc]
root       699  0.0  0.0      0     0 ?        I<   Mar03   0:00 [xfs_mru_cache]
root       708  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsIO]
root       709  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       710  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       711  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       712  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       713  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       714  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       715  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       716  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       717  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       718  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       719  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       720  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       721  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       722  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       723  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       724  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsCommit]
root       725  0.0  0.0      0     0 ?        S    Mar03   0:00 [jfsSync]
root       842  0.0  0.0      0     0 ?        S    Feb19   0:00 [jbd2/sda2-8]
root       843  0.0  0.0      0     0 ?        I<   Feb19   0:00 [ext4-rsv-conver]
root      1067  0.0  0.0      0     0 ?        I    Feb19   0:05 [kworker/14:2]
root      1205  0.0  0.0 110420  2040 ?        Ssl  Feb19   2:52 /usr/sbin/irqbalance --foreground
root      1207  0.0  0.0 286364  6972 ?        Ssl  Feb19   0:38 /usr/lib/accountsservice/accounts-daemon
root      1241  0.0  0.0 169780 17772 ?        Ssl  Feb19   0:00 /usr/bin/python3 /usr/bin/networkd-dispatcher --run-startup-triggers
root      1249  0.0  0.0  70520  5868 ?        Ss   Feb19   0:05 /lib/systemd/systemd-logind
message+  1251  0.0  0.0  50292  4880 ?        Ss   Feb19   0:04 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only
daemon    1297  0.0  0.0  28336  2460 ?        Ss   Feb19   0:00 /usr/sbin/atd -f
syslog    1325  0.0  0.0 267280  5020 ?        Ssl  Feb19   0:04 /usr/sbin/rsyslogd -n
root      1335  0.0  0.0 309868  2228 ?        Ssl  Feb19   0:21 /usr/bin/lxcfs /var/lib/lxcfs/
root      1340  0.0  0.0 185948 20332 ?        Ssl  Feb19   0:00 /usr/bin/python3 /usr/share/unattended-upgrades/unattended-upgrade-shutdown --wait-for-signal
root      1348  0.0  0.0  68308  4328 pts/7    S+   12:23   0:00 sudo ./run-test-campaign.sh
root      1349  0.0  0.0  13320  3256 pts/7    S+   12:23   0:00 /bin/bash -x ./run-test-campaign.sh
root      1357  0.0  0.0  30032  3240 ?        Ss   Feb19   0:06 /usr/sbin/cron -f
root      1364  0.0  0.2 2385084 42848 ?       Ssl  Feb19   5:03 /usr/bin/containerd
root      1394  0.0  0.0 288884  6604 ?        Ssl  Feb19   0:01 /usr/lib/policykit-1/polkitd --no-debug
root      1439  0.0  0.0  14896  2000 tty1     Ss+  Feb19   0:00 /sbin/agetty -o -p -- \u --noclear tty1 linux
root      1517  0.0  0.0  72304  6404 ?        Ss   Feb19   0:00 /usr/sbin/sshd -D
montima+  2648  0.0  0.0  49800  3848 ?        Ss   Mar20   0:00 /usr/bin/dbus-daemon --session --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only
root      2775  0.2  0.0  13452  3320 pts/7    S+   12:32   0:00 /bin/bash -x ./setup-testbed.sh
root      2776  0.0  0.0   7936   840 pts/7    S+   12:32   0:00 tee log/script.log
root      2824 33.0  0.1 383464 22416 pts/7    S<l+ 12:32   0:01 /home/montimage/bertrand-behavioral-model/targets/simple_switch/.libs/simple_switch --queue 2 --ll_queue 64 --BE_queue 128 -i 1@enp0s8 -i 2@enp0s9 -i 3@enp0s10 switch-l4s.json
root      2829  0.0  0.0  13452  2184 pts/7    S+   12:32   0:00 /bin/bash -x ./setup-testbed.sh
root      2831  3.8  0.0  52944 13528 pts/7    S+   12:32   0:00 /usr/bin/python /home/montimage/.local/bin/psrecord 2824 --log log/cpu_mem_int_yes_pid_2824.txt --duration 320 --interval 1 --include-children
root      2902  0.0  0.0  22544  6156 pts/7    S+   12:32   0:00 tcpdump --snapshot-length=128 -i enp0s8 -w enp0s8-data.pcap tcp or udp
root      2903  0.0  0.0  22544  6200 pts/7    S+   12:32   0:00 tcpdump --snapshot-length=128 -i enp0s9 -w enp0s9-data.pcap tcp or udp
root      2904  0.0  0.0  22544  6428 pts/7    S+   12:32   0:00 tcpdump --snapshot-length=176 -i enp0s10 -w enp0s10-int.pcap tcp or udp
root      2911 47.0  0.1 590052 29684 pts/7    R+   12:32   0:00 mmt-probe -c ./mmt-probe.conf -i enp0s10
root      2913  0.0  0.0  13452  3348 pts/7    S+   12:32   0:00 bash -x /home/montimage/hipnet/measure--calibrate/start-monitoring.sh
root      2926  0.0  0.0  37804  3360 pts/7    R+   12:32   0:00 ps aux
root      6444  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/14:1]
root      6545  0.0  0.0      0     0 ?        I    Mar15   0:02 [kworker/12:1]
root      9607  0.0  0.0      0     0 ?        I    Mar05   0:04 [kworker/6:1]
root      9978  0.0  0.0      0     0 ?        I    Mar20   0:00 [kworker/12:0]
root     10854  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/15:1]
root     12257  0.0  0.0      0     0 ?        I    Mar07   4:52 [kworker/13:1]
root     12292  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/2:2]
root     12805  0.0  0.0      0     0 ?        I    Mar07   0:14 [kworker/0:4]
root     14108  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/9:2]
root     15434  0.0  0.0  44972  3952 ?        Ss   Mar08   0:03 /lib/systemd/systemd-udevd
root     18699  0.0  0.0 107988  7164 ?        Ss   Mar21   0:00 sshd: montimage [priv]
root     18744  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/6:0]
montima+ 18811  0.0  0.0 107988  3404 ?        S    Mar21   0:00 sshd: montimage@pts/0
montima+ 18812  0.0  0.0  23204  5476 pts/0    Ss+  Mar21   0:00 -bash
root     21788  0.0  0.0      0     0 ?        I    Mar03   0:03 [kworker/5:0]
root     21829  0.0  0.0      0     0 ?        I    Mar03   0:07 [kworker/1:1]
root     22390  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/8:1]
root     22703  0.0  0.0      0     0 ?        I    Mar20   0:00 [kworker/7:2]
root     23320  0.0  0.0      0     0 ?        I    Mar21   0:04 [kworker/3:2]
montima+ 23406  0.0  0.0  76644  7716 ?        Ss   Feb20   0:00 /lib/systemd/systemd --user
montima+ 23407  0.0  0.0 259204  2536 ?        S    Feb20   0:00 (sd-pam)
systemd+ 24261  0.0  0.0  80056  5220 ?        Ss   Mar08   0:06 /lib/systemd/systemd-networkd
systemd+ 24289  0.0  0.0  70628  5132 ?        Ss   Mar08   0:06 /lib/systemd/systemd-resolved
systemd+ 24315  0.0  0.0 141788  3136 ?        Ssl  Mar08   0:02 /lib/systemd/systemd-timesyncd
root     24340  0.0  0.1 130532 33900 ?        S<s  Mar08   0:12 /lib/systemd/systemd-journald
root     24403  0.0  0.0 107988  7168 ?        Ss   Feb20   0:00 sshd: montimage [priv]
montima+ 24513  0.0  0.0 107988  3440 ?        S    Feb20   0:00 sshd: montimage@pts/1
montima+ 24514  0.0  0.0  23204  5464 pts/1    Ss+  Feb20   0:00 -bash
root     24558  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/1:0]
root     24953  0.0  0.0      0     0 ?        I    Mar20   0:02 [kworker/9:1]
montima+ 26408  0.0  0.0  32188  3136 ?        Ss   Mar20   0:03 SCREEN -R hn
montima+ 26409  0.0  0.0  23244  5328 pts/7    Ss   Mar20   0:00 /bin/bash
root     27669  0.0  0.0      0     0 ?        I    06:25   0:00 [kworker/11:2]
root     27856  0.0  0.0      0     0 ?        I    06:46   0:00 [kworker/0:1]
root     27871  0.0  0.0      0     0 ?        I    07:01   0:03 [kworker/u32:3]
root     28042  0.0  0.0 107988  7216 ?        Ss   08:47   0:00 sshd: montimage [priv]
montima+ 28109  0.0  0.0 107988  3548 ?        S    08:47   0:01 sshd: montimage@pts/2
montima+ 28110  0.0  0.0  23336  5656 pts/2    Ss+  08:47   0:00 -bash
root     28290  0.0  0.0 107988  7300 ?        Ss   08:48   0:00 sshd: montimage [priv]
montima+ 28357  0.0  0.0 107988  3700 ?        S    08:48   0:04 sshd: montimage@pts/3
montima+ 28358  0.0  0.0  23204  5492 pts/3    Ss+  08:48   0:00 -bash
root     28651  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/10:2]
root     29484  0.0  0.0      0     0 ?        I    Mar21   0:00 [kworker/15:2]
root     29763  0.0  0.0      0     0 ?        I    10:01   0:00 [kworker/10:0]
root     31038  0.0  0.0      0     0 ?        I    10:30   0:01 [kworker/u32:0]
root     31239  0.0  0.0      0     0 ?        I    10:53   0:00 [kworker/8:2]
root     31408  0.0  0.0      0     0 ?        I    11:18   0:00 [kworker/2:0]
root     32015  0.0  0.0      0     0 ?        I    12:05   0:00 [kworker/4:0]
root     32375  0.0  0.0      0     0 ?        I    12:07   0:00 [kworker/u32:1]
root     32514  0.0  0.0      0     0 ?        I    12:08   0:00 [kworker/3:0]
+ run-on-host 192.168.1.105 ps aux
+ '[' 3 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.5 119312  5316 ?        Ss   Feb21   1:37 /sbin/init
root         2  0.0  0.0      0     0 ?        S    Feb21   0:00 [kthreadd]
root         3  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rcu_gp]
root         4  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rcu_par_gp]
root         6  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kworker/0:0H-ev]
root         9  0.0  0.0      0     0 ?        I<   Feb21   0:00 [mm_percpu_wq]
root        10  0.0  0.0      0     0 ?        S    Feb21   0:00 [rcu_tasks_rude_]
root        11  0.0  0.0      0     0 ?        S    Feb21   0:00 [rcu_tasks_trace]
root        12  0.0  0.0      0     0 ?        S    Feb21   0:10 [ksoftirqd/0]
root        13  0.0  0.0      0     0 ?        I    Feb21   4:07 [rcu_sched]
root        14  0.0  0.0      0     0 ?        S    Feb21   0:23 [migration/0]
root        15  0.0  0.0      0     0 ?        S    Feb21   0:00 [idle_inject/0]
root        16  0.0  0.0      0     0 ?        S    Feb21   0:00 [cpuhp/0]
root        17  0.0  0.0      0     0 ?        S    Feb21   0:00 [kdevtmpfs]
root        18  0.0  0.0      0     0 ?        I<   Feb21   0:00 [netns]
root        19  0.0  0.0      0     0 ?        S    Feb21   0:00 [kauditd]
root        20  0.0  0.0      0     0 ?        S    Feb21   0:01 [khungtaskd]
root        21  0.0  0.0      0     0 ?        S    Feb21   0:00 [oom_reaper]
root        22  0.0  0.0      0     0 ?        I<   Feb21   0:00 [writeback]
root        23  0.0  0.0      0     0 ?        S    Feb21   2:43 [kcompactd0]
root        24  0.0  0.0      0     0 ?        SN   Feb21   0:00 [ksmd]
root        25  0.0  0.0      0     0 ?        SN   Feb21   0:00 [khugepaged]
root        71  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kintegrityd]
root        72  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kblockd]
root        73  0.0  0.0      0     0 ?        I<   Feb21   0:00 [blkcg_punt_bio]
root        74  0.0  0.0      0     0 ?        I<   Feb21   0:00 [tpm_dev_wq]
root        75  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ata_sff]
root        76  0.0  0.0      0     0 ?        I<   Feb21   0:00 [md]
root        77  0.0  0.0      0     0 ?        I<   Feb21   0:00 [edac-poller]
root        78  0.0  0.0      0     0 ?        I<   Feb21   0:00 [devfreq_wq]
root        79  0.0  0.0      0     0 ?        S    Feb21   0:00 [watchdogd]
root        81  0.0  0.0      0     0 ?        I<   Feb21   0:11 [kworker/0:1H-kb]
root        85  0.0  0.0      0     0 ?        S    Feb21   0:02 [kswapd0]
root        86  0.0  0.0      0     0 ?        S    Feb21   0:00 [ecryptfs-kthrea]
root        88  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kthrotld]
root        89  0.0  0.0      0     0 ?        I<   Feb21   0:00 [acpi_thermal_pm]
root        90  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_0]
root        91  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_0]
root        92  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_1]
root        93  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_1]
root        95  0.0  0.0      0     0 ?        I<   Feb21   0:00 [vfio-irqfd-clea]
root        97  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ipv6_addrconf]
root       106  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kstrp]
root       109  0.0  0.0      0     0 ?        I<   Feb21   0:00 [zswap-shrink]
root       110  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kworker/u3:0]
root       115  0.0  0.0      0     0 ?        I<   Feb21   0:00 [charger_manager]
root       166  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_2]
root       168  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_2]
root       169  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_3]
root       170  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_3]
root       175  0.0  0.0      0     0 ?        I<   Feb21   0:00 [cryptd]
root       198  0.0  0.0      0     0 ?        S    Feb21   3:32 [irq/18-vmwgfx]
root       199  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ttm_swap]
root       200  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc0]
root       201  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc1]
root       202  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc2]
root       203  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc3]
root       204  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc4]
root       205  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc5]
root       206  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc6]
root       207  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc7]
root       278  0.0  0.0      0     0 ?        I<   Feb21   0:00 [raid5wq]
root       332  0.0  0.0      0     0 ?        S    Feb21   0:00 [jbd2/sda1-8]
root       333  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ext4-rsv-conver]
root       385  0.0  0.2  28340  2720 ?        Ss   Feb21   0:13 /lib/systemd/systemd-journald
root       403  0.0  0.0      0     0 ?        I<   Feb21   0:00 [iscsi_eh]
root       404  0.0  0.0      0     0 ?        I<   Feb21   0:00 [iscsi_destroy]
root       418  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib-comp-wq]
root       419  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib-comp-unb-wq]
root       420  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib_mcast]
root       422  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib_nl_sa_wq]
root       425  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rdma_cm]
root       437  0.0  0.1  94776  1544 ?        Ss   Feb21   0:00 /sbin/lvmetad -f
root       440  0.0  0.4  45576  4044 ?        Ss   Feb21   0:02 /lib/systemd/systemd-udevd
root       454  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop0]
root       457  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop1]
root       458  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop2]
root       461  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop3]
root       464  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop4]
systemd+   485  0.0  0.2 100328  2380 ?        Ssl  Feb21   5:14 /lib/systemd/systemd-timesyncd
root       882  0.0  0.1   4400  1308 ?        Ss   Feb21   0:00 /usr/sbin/acpid
daemon     885  0.0  0.2  26048  2012 ?        Ss   Feb21   0:00 /usr/sbin/atd -f
root       886  0.0  0.3 636940  3476 ?        Ssl  Feb21   0:11 /usr/bin/lxcfs /var/lib/lxcfs/
message+   887  0.0  0.3  42892  3572 ?        Ss   Feb21   0:15 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation
root       893  0.0  3.1 477808 31348 ?        Ssl  Feb21   1:54 /usr/lib/snapd/snapd
root       894  0.0  0.2  29012  2492 ?        Ss   Feb21   0:03 /usr/sbin/cron -f
root       895  0.0  0.5 275872  5360 ?        Ssl  Feb21   0:50 /usr/lib/accountsservice/accounts-daemon
syslog     896  0.0  0.3 256396  3428 ?        Ssl  Feb21   0:03 /usr/sbin/rsyslogd -n
root       903  0.0  0.2  28660  2928 ?        Ss   Feb21   0:10 /lib/systemd/systemd-logind
root       936  0.0  0.0  13376   160 ?        Ss   Feb21   0:00 /sbin/mdadm --monitor --pid-file /run/mdadm/monitor.pid --daemonise --scan --syslog
root       941  0.0  0.0   5224   116 ?        Ss   Feb21   1:00 /sbin/iscsid
root       942  0.0  0.3   5724  3492 ?        S<Ls Feb21   4:41 /sbin/iscsid
root       989  0.0  1.6 177448 16600 ?        Ssl  Feb21   0:00 /usr/bin/python3 /usr/share/unattended-upgrades/unattended-upgrade-shutdown --wait-for-signal
root      1003  0.0  0.5 277092  5588 ?        Ssl  Feb21   0:04 /usr/lib/policykit-1/polkitd --no-debug
root      1008  0.0  0.5  65516  5996 ?        Ss   Feb21   0:01 /usr/sbin/sshd -D
root      1194  0.0  0.1  15940  1612 tty2     Ss+  Feb21   0:00 /sbin/agetty --noclear tty2 linux
root      1197  0.0  0.1  15940  1612 tty1     Ss+  Feb21   0:00 /sbin/agetty --noclear tty1 linux
root      8212  0.0  0.0      0     0 ?        I    13:06   0:00 [kworker/0:3-eve]
root      8319  0.0  0.0      0     0 ?        I    13:06   0:00 [kworker/0:5-cgr]
root      8472  0.0  0.0      0     0 ?        I    13:11   0:00 [kworker/u2:2-ev]
root      8782  0.0  0.0      0     0 ?        I    13:21   0:00 [kworker/u2:1-ev]
root      8849  0.0  0.0      0     0 ?        I    13:23   0:00 [kworker/0:0-cgr]
root      8853  0.0  0.0      0     0 ?        I    13:23   0:00 [kworker/0:1-eve]
root      8857  0.0  0.0      0     0 ?        I    13:23   0:00 [kworker/0:2-cgr]
root      9315  0.0  0.0      0     0 ?        I    13:27   0:00 [kworker/0:6-eve]
root      9726  0.0  0.0      0     0 ?        I    13:29   0:00 [kworker/u2:0-ev]
root     10031  0.0  0.6  92812  6792 ?        Ss   13:32   0:00 sshd: montimage [priv]
montima+ 10033  0.0  0.4  45148  4444 ?        Ss   13:32   0:00 /lib/systemd/systemd --user
montima+ 10034  0.0  0.1 142764  1612 ?        S    13:32   0:00 (sd-pam)
montima+ 10072  0.0  0.3  92812  3384 ?        S    13:32   0:00 sshd: montimage@notty
montima+ 10073  0.0  0.3  37524  3316 ?        Rs   13:32   0:00 ps aux
+ run-on-host 192.168.1.103 ps aux
+ '[' 3 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.5 119476  5496 ?        Ss   Feb21   1:27 /sbin/init
root         2  0.0  0.0      0     0 ?        S    Feb21   0:00 [kthreadd]
root         3  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rcu_gp]
root         4  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rcu_par_gp]
root         6  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kworker/0:0H-ev]
root         9  0.0  0.0      0     0 ?        I<   Feb21   0:00 [mm_percpu_wq]
root        10  0.0  0.0      0     0 ?        S    Feb21   0:00 [rcu_tasks_rude_]
root        11  0.0  0.0      0     0 ?        S    Feb21   0:00 [rcu_tasks_trace]
root        12  0.0  0.0      0     0 ?        S    Feb21   0:09 [ksoftirqd/0]
root        13  0.0  0.0      0     0 ?        I    Feb21   4:09 [rcu_sched]
root        14  0.0  0.0      0     0 ?        S    Feb21   0:23 [migration/0]
root        15  0.0  0.0      0     0 ?        S    Feb21   0:00 [idle_inject/0]
root        16  0.0  0.0      0     0 ?        S    Feb21   0:00 [cpuhp/0]
root        17  0.0  0.0      0     0 ?        S    Feb21   0:00 [kdevtmpfs]
root        18  0.0  0.0      0     0 ?        I<   Feb21   0:00 [netns]
root        19  0.0  0.0      0     0 ?        S    Feb21   0:00 [kauditd]
root        20  0.0  0.0      0     0 ?        S    Feb21   0:01 [khungtaskd]
root        21  0.0  0.0      0     0 ?        S    Feb21   0:00 [oom_reaper]
root        22  0.0  0.0      0     0 ?        I<   Feb21   0:00 [writeback]
root        23  0.0  0.0      0     0 ?        S    Feb21   2:46 [kcompactd0]
root        24  0.0  0.0      0     0 ?        SN   Feb21   0:00 [ksmd]
root        25  0.0  0.0      0     0 ?        SN   Feb21   0:00 [khugepaged]
root        71  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kintegrityd]
root        72  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kblockd]
root        73  0.0  0.0      0     0 ?        I<   Feb21   0:00 [blkcg_punt_bio]
root        74  0.0  0.0      0     0 ?        I<   Feb21   0:00 [tpm_dev_wq]
root        75  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ata_sff]
root        76  0.0  0.0      0     0 ?        I<   Feb21   0:00 [md]
root        77  0.0  0.0      0     0 ?        I<   Feb21   0:00 [edac-poller]
root        78  0.0  0.0      0     0 ?        I<   Feb21   0:00 [devfreq_wq]
root        79  0.0  0.0      0     0 ?        S    Feb21   0:00 [watchdogd]
root        81  0.0  0.0      0     0 ?        I<   Feb21   0:11 [kworker/0:1H-kb]
root        85  0.0  0.0      0     0 ?        S    Feb21   0:01 [kswapd0]
root        86  0.0  0.0      0     0 ?        S    Feb21   0:00 [ecryptfs-kthrea]
root        88  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kthrotld]
root        89  0.0  0.0      0     0 ?        I<   Feb21   0:00 [acpi_thermal_pm]
root        90  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_0]
root        91  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_0]
root        92  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_1]
root        93  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_1]
root        95  0.0  0.0      0     0 ?        I<   Feb21   0:00 [vfio-irqfd-clea]
root        97  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ipv6_addrconf]
root       106  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kstrp]
root       109  0.0  0.0      0     0 ?        I<   Feb21   0:00 [zswap-shrink]
root       110  0.0  0.0      0     0 ?        I<   Feb21   0:00 [kworker/u3:0]
root       115  0.0  0.0      0     0 ?        I<   Feb21   0:00 [charger_manager]
root       155  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_2]
root       157  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_2]
root       158  0.0  0.0      0     0 ?        S    Feb21   0:00 [scsi_eh_3]
root       160  0.0  0.0      0     0 ?        I<   Feb21   0:00 [scsi_tmf_3]
root       165  0.0  0.0      0     0 ?        I<   Feb21   0:00 [cryptd]
root       188  0.0  0.0      0     0 ?        S    Feb21   3:35 [irq/18-vmwgfx]
root       189  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ttm_swap]
root       190  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc0]
root       191  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc1]
root       192  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc2]
root       193  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc3]
root       194  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc4]
root       195  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc5]
root       196  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc6]
root       197  0.0  0.0      0     0 ?        S    Feb21   0:00 [card0-crtc7]
root       267  0.0  0.0      0     0 ?        I<   Feb21   0:00 [raid5wq]
root       321  0.0  0.0      0     0 ?        S    Feb21   0:00 [jbd2/sda1-8]
root       322  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ext4-rsv-conver]
root       383  0.0  0.2  28340  2968 ?        Ss   Feb21   0:08 /lib/systemd/systemd-journald
root       393  0.0  0.0      0     0 ?        I<   Feb21   0:00 [iscsi_eh]
root       394  0.0  0.0      0     0 ?        I<   Feb21   0:00 [iscsi_destroy]
root       403  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib-comp-wq]
root       404  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib-comp-unb-wq]
root       405  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib_mcast]
root       406  0.0  0.0      0     0 ?        I<   Feb21   0:00 [ib_nl_sa_wq]
root       408  0.0  0.0      0     0 ?        I<   Feb21   0:00 [rdma_cm]
root       409  0.0  0.1  94776  1656 ?        Ss   Feb21   0:00 /sbin/lvmetad -f
root       426  0.0  0.3  45576  3980 ?        Ss   Feb21   0:02 /lib/systemd/systemd-udevd
root       436  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop0]
root       441  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop1]
root       446  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop2]
root       447  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop3]
root       448  0.0  0.0      0     0 ?        S<   Feb21   0:00 [loop4]
systemd+   465  0.0  0.2 100328  2376 ?        Ssl  Feb21   5:18 /lib/systemd/systemd-timesyncd
root       868  0.0  0.2  28664  2904 ?        Ss   Feb21   0:06 /lib/systemd/systemd-logind
root       870  0.0  0.1   4400  1280 ?        Ss   Feb21   0:00 /usr/sbin/acpid
root       872  0.0  0.3 636888  3316 ?        Ssl  Feb21   0:11 /usr/bin/lxcfs /var/lib/lxcfs/
syslog     873  0.0  0.3 256396  3152 ?        Ssl  Feb21   0:02 /usr/sbin/rsyslogd -n
daemon     876  0.0  0.1  26048  1948 ?        Ss   Feb21   0:00 /usr/sbin/atd -f
root       881  0.0  0.5 275872  5292 ?        Ssl  Feb21   0:49 /usr/lib/accountsservice/accounts-daemon
root       882  0.0  0.2  29012  2728 ?        Ss   Feb21   0:03 /usr/sbin/cron -f
message+   883  0.0  0.3  42892  3576 ?        Ss   Feb21   0:09 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation
root       898  0.0  2.6 354932 26896 ?        Ssl  Feb21   1:51 /usr/lib/snapd/snapd
root       924  0.0  1.7 177060 17508 ?        Ssl  Feb21   0:00 /usr/bin/python3 /usr/share/unattended-upgrades/unattended-upgrade-shutdown --wait-for-signal
root       928  0.0  0.4 277092  4636 ?        Ssl  Feb21   0:02 /usr/lib/policykit-1/polkitd --no-debug
root       931  0.0  0.0  13376   160 ?        Ss   Feb21   0:00 /sbin/mdadm --monitor --pid-file /run/mdadm/monitor.pid --daemonise --scan --syslog
root       943  0.0  0.0   5224   112 ?        Ss   Feb21   1:01 /sbin/iscsid
root       944  0.0  0.3   5724  3500 ?        S<Ls Feb21   4:46 /sbin/iscsid
root       989  0.0  0.5  65516  5816 ?        Ss   Feb21   0:01 /usr/sbin/sshd -D
root      1160  0.0  0.1  15940  1524 tty2     Ss+  Feb21   0:00 /sbin/agetty --noclear tty2 linux
root      1166  0.0  0.1  15940  1580 tty1     Ss+  Feb21   0:00 /sbin/agetty --noclear tty1 linux
montima+  1190  0.0  0.3  45148  3496 ?        Ss   Feb21   0:00 /lib/systemd/systemd --user
montima+  1191  0.0  0.1 142928  1536 ?        S    Feb21   0:00 (sd-pam)
root     27924  0.0  0.6  92808  6136 ?        Ss   Mar14   0:00 sshd: montimage [priv]
montima+ 27985  0.0  0.2  92808  2972 ?        S    Mar14   0:00 sshd: montimage@pts/1
montima+ 27987  0.0  0.2  22604  2016 pts/1    Ss+  Mar14   0:00 -bash
root     29987  0.0  0.0      0     0 ?        I    10:56   0:00 [kworker/0:0-cgr]
root     31351  0.0  0.0      0     0 ?        I    13:14   0:00 [kworker/u2:1-ev]
root     31355  0.0  0.0      0     0 ?        I    13:19   0:00 [kworker/u2:2-ev]
root     31418  0.0  0.0      0     0 ?        I    13:23   0:00 [kworker/0:2-eve]
root     31992  0.0  0.0      0     0 ?        I    13:28   0:00 [kworker/0:1-eve]
root     32359  0.0  0.6  92808  6936 ?        Ss   13:32   0:00 sshd: montimage [priv]
montima+ 32396  0.0  0.3  92808  3400 ?        S    13:32   0:00 sshd: montimage@notty
montima+ 32397  0.0  0.3  37524  3384 ?        Rs   13:32   0:00 ps aux
++ print-parameters
++ cat
+ log '{
	"SERVER":     "10.0.1.12",
	"CLIENT":     "10.0.0.12",
	"bandwidth":  "10 Mbps",
	"type":       "iperf3",
	"file-size":  "1000 MB"
}'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123254 ' '{
	"SERVER":     "10.0.1.12",
	"CLIENT":     "10.0.0.12",
	"bandwidth":  "10 Mbps",
	"type":       "iperf3",
	"file-size":  "1000 MB"
}'
20230322-123254  {
	"SERVER":     "10.0.1.12",
	"CLIENT":     "10.0.0.12",
	"bandwidth":  "10 Mbps",
	"type":       "iperf3",
	"file-size":  "1000 MB"
}
+ print-parameters
+ cat
+ limit-bandwidth
+ cp /home/montimage/hipnet/measure--calibrate/../mahimahi/10Mbps.txt /home/montimage/hipnet/measure--calibrate/../mahimahi.txt
+ echo 'set_egress_mahimahi 1 10000'
+ config_sw
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: RuntimeCmd: 
+ echo 'set_egress_mahimahi 2 10000'
+ config_sw
+ tee -a log/config.log
+ /usr/local/bin/simple_switch_CLI
+ tee -a log/config.log
Obtaining JSON from switch...
Done
Control utility for runtime P4 table manipulation
RuntimeCmd: RuntimeCmd: 
+ sleep 2
+ [[ iperf3 == \i\p\e\r\f\3 ]]
+ start-iperf3-servers
+ log 'configuration 192.168.1.105 VM'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123257 ' 'configuration 192.168.1.105 VM'
20230322-123257  configuration 192.168.1.105 VM
+ run-on-host 192.168.1.105 'rm -rf /tmp/screenlog*'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- 'rm -rf /tmp/screenlog*'
+ run-on-host 192.168.1.105 sudo sysctl -w net.ipv4.tcp_congestion_control=prague
+ '[' 5 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- sudo sysctl -w net.ipv4.tcp_congestion_control=prague
net.ipv4.tcp_congestion_control = prague
+ run-on-host 192.168.1.105 sudo sysctl -w net.ipv4.tcp_ecn=3
+ '[' 5 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- sudo sysctl -w net.ipv4.tcp_ecn=3
net.ipv4.tcp_ecn = 3
+ log 'start iperf3 192.168.1.105'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123257 ' 'start iperf3 192.168.1.105'
20230322-123257  start iperf3 192.168.1.105
+ duration=70
+ run-on-host 192.168.1.105 'cd /tmp/ && screen -S hn -L -dm timeout 70 iperf3 -s --one-off --port 4433'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- 'cd /tmp/ && screen -S hn -L -dm timeout 70 iperf3 -s --one-off --port 4433'
+ start-iperf3-clients-and-wait-for-finish
+ run-on-host 192.168.1.103 'rm -rf /tmp/screenlog*'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- 'rm -rf /tmp/screenlog*'
+ log 'configuration iperf3 192.168.1.103 VM'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123258 ' 'configuration iperf3 192.168.1.103 VM'
20230322-123258  configuration iperf3 192.168.1.103 VM
+ run-on-host 192.168.1.103 sudo sysctl -w net.ipv4.tcp_congestion_control=prague
+ '[' 5 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- sudo sysctl -w net.ipv4.tcp_congestion_control=prague
net.ipv4.tcp_congestion_control = prague
+ run-on-host 192.168.1.103 sudo sysctl -w net.ipv4.tcp_ecn=3
+ '[' 5 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- sudo sysctl -w net.ipv4.tcp_ecn=3
net.ipv4.tcp_ecn = 3
+ log 'begin iperf3 clients'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123258 ' 'begin iperf3 clients'
20230322-123258  begin iperf3 clients
+ sleep 5
+ run-on-host 192.168.1.103 'cd /tmp/ && screen -S hn -L -dm iperf3 -c 10.0.1.12  --set-mss 1500 --length 1500 --time 60 --port 4433'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- 'cd /tmp/ && screen -S hn -L -dm iperf3 -c 10.0.1.12  --set-mss 1500 --length 1500 --time 60 --port 4433'
+ sleep 60
+ sleep 5
+ run-on-host 192.168.1.103 'cat /tmp/screenlog*; rm -rf /tmp/screenlog*'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.103
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.103 -- 'cat /tmp/screenlog*; rm -rf /tmp/screenlog*'
Connecting to host 10.0.1.12, port 4433
[  4] local 10.0.0.12 port 58164 connected to 10.0.1.12 port 4433
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
[  4]   0.00-1.00   sec  1.03 MBytes  8.64 Mbits/sec    0   8.48 KBytes       
[  4]   1.00-2.00   sec  1.02 MBytes  8.52 Mbits/sec    0   8.48 KBytes       
[  4]   2.00-3.00   sec  1011 KBytes  8.28 Mbits/sec    0   5.66 KBytes       
[  4]   3.00-4.00   sec   894 KBytes  7.32 Mbits/sec    0   7.07 KBytes       
[  4]   4.00-5.00   sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]   5.00-6.00   sec   923 KBytes  7.56 Mbits/sec    0   7.07 KBytes       
[  4]   6.00-7.00   sec   967 KBytes  7.92 Mbits/sec    0   5.66 KBytes       
[  4]   7.00-8.00   sec   908 KBytes  7.44 Mbits/sec    0   5.66 KBytes       
[  4]   8.00-9.00   sec   938 KBytes  7.68 Mbits/sec    0   7.07 KBytes       
[  4]   9.00-10.00  sec   967 KBytes  7.92 Mbits/sec    0   7.07 KBytes       
[  4]  10.00-11.00  sec  1011 KBytes  8.28 Mbits/sec    0   7.07 KBytes       
[  4]  11.00-12.00  sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]  12.00-13.00  sec   967 KBytes  7.92 Mbits/sec    0   7.07 KBytes       
[  4]  13.00-14.00  sec   908 KBytes  7.44 Mbits/sec    0   7.07 KBytes       
[  4]  14.00-15.00  sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]  15.00-16.00  sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]  16.00-17.00  sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]  17.00-18.00  sec   952 KBytes  7.80 Mbits/sec    0   5.66 KBytes       
[  4]  18.00-19.00  sec   967 KBytes  7.92 Mbits/sec    0   5.66 KBytes       
[  4]  19.00-20.00  sec   967 KBytes  7.92 Mbits/sec    0   5.66 KBytes       
[  4]  20.00-21.00  sec   952 KBytes  7.80 Mbits/sec    0   5.66 KBytes       
[  4]  21.00-22.00  sec   938 KBytes  7.68 Mbits/sec    0   7.07 KBytes       
[  4]  22.00-23.00  sec   967 KBytes  7.92 Mbits/sec    0   5.66 KBytes       
[  4]  23.00-24.00  sec   938 KBytes  7.68 Mbits/sec    0   5.66 KBytes       
[  4]  24.00-25.00  sec   967 KBytes  7.92 Mbits/sec    0   7.07 KBytes       
[  4]  25.00-26.00  sec   952 KBytes  7.80 Mbits/sec    0   7.07 KBytes       
[  4]  26.00-27.00  sec   952 KBytes  7.80 Mbits/sec    0   5.66 KBytes       
[  4]  27.00-28.00  sec   908 KBytes  7.44 Mbits/sec    0   7.07 KBytes       
[  4]  28.00-29.00  sec   952 KBytes  7.80 Mbits/sec    0   7.07 KBytes       
[  4]  29.00-30.00  sec   981 KBytes  8.04 Mbits/sec    0   5.66 KBytes       
[  4]  30.00-31.00  sec   908 KBytes  7.44 Mbits/sec    0   5.66 KBytes       
[  4]  31.00-32.00  sec   952 KBytes  7.80 Mbits/sec    0   7.07 KBytes       
[  4]  32.00-33.00  sec   952 KBytes  7.80 Mbits/sec    0   5.66 KBytes       
[  4]  33.00-34.00  sec   923 KBytes  7.56 Mbits/sec    0   7.07 KBytes       
[  4]  34.00-35.00  sec   952 KBytes  7.80 Mbits/sec    0   5.66 KBytes       
[  4]  35.00-36.00  sec   981 KBytes  8.04 Mbits/sec    0   5.66 KBytes       
[  4]  36.00-37.00  sec   894 KBytes  7.32 Mbits/sec    0   7.07 KBytes       
[  4]  37.00-38.00  sec   938 KBytes  7.68 Mbits/sec    0   7.07 KBytes       
[  4]  38.00-39.00  sec   542 KBytes  4.44 Mbits/sec    0   5.66 KBytes       
[  4]  39.00-40.00  sec   527 KBytes  4.32 Mbits/sec    0   5.66 KBytes       
[  4]  40.00-41.00  sec   322 KBytes  2.63 Mbits/sec    0   5.66 KBytes       
[  4]  41.00-42.00  sec   293 KBytes  2.41 Mbits/sec    0   5.66 KBytes       
[  4]  42.00-43.00  sec   557 KBytes  4.56 Mbits/sec    0   7.07 KBytes       
[  4]  43.00-44.00  sec   601 KBytes  4.92 Mbits/sec    0   7.07 KBytes       
[  4]  44.00-45.00  sec   542 KBytes  4.44 Mbits/sec    0   7.07 KBytes       
[  4]  45.00-46.00  sec   542 KBytes  4.44 Mbits/sec    0   5.66 KBytes       
[  4]  46.00-47.00  sec   483 KBytes  3.96 Mbits/sec    0   5.66 KBytes       
[  4]  47.00-48.00  sec   410 KBytes  3.36 Mbits/sec    0   5.66 KBytes       
[  4]  48.00-49.00  sec   322 KBytes  2.64 Mbits/sec    0   5.66 KBytes       
[  4]  49.00-50.00  sec   322 KBytes  2.64 Mbits/sec    0   8.48 KBytes       
[  4]  50.00-51.00  sec   220 KBytes  1.80 Mbits/sec    0   8.48 KBytes       
[  4]  51.00-52.00  sec   366 KBytes  3.00 Mbits/sec    0   5.66 KBytes       
[  4]  52.00-53.00  sec   132 KBytes  1.08 Mbits/sec    0   5.66 KBytes       
[  4]  53.00-54.00  sec   132 KBytes  1.08 Mbits/sec    0   4.24 KBytes       
[  4]  54.00-55.00  sec   308 KBytes  2.52 Mbits/sec    0   7.07 KBytes       
[  4]  55.00-56.00  sec   425 KBytes  3.48 Mbits/sec    0   7.07 KBytes       
[  4]  56.00-57.00  sec   513 KBytes  4.20 Mbits/sec    0   7.07 KBytes       
[  4]  57.00-58.00  sec   308 KBytes  2.52 Mbits/sec    0   5.66 KBytes       
[  4]  58.00-59.00  sec   220 KBytes  1.80 Mbits/sec    0   7.07 KBytes       
[  4]  59.00-60.00  sec   190 KBytes  1.56 Mbits/sec    0   5.66 KBytes       
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Retr
[  4]   0.00-60.00  sec  43.4 MBytes  6.07 Mbits/sec    0             sender
[  4]   0.00-60.00  sec  43.3 MBytes  6.06 Mbits/sec                  receiver

iperf Done.
+ run-on-host 192.168.1.105 'cat /tmp/screenlog*; rm -rf /tmp/screenlog*'
+ '[' 2 -lt 2 ']'
+ hostname=192.168.1.105
+ shift
+ ssh -i /home/montimage/.ssh/id_rsa montimage@192.168.1.105 -- 'cat /tmp/screenlog*; rm -rf /tmp/screenlog*'
-----------------------------------------------------------
Server listening on 4433
-----------------------------------------------------------
Accepted connection from 10.0.0.12, port 58162
[  5] local 10.0.1.12 port 4433 connected to 10.0.0.12 port 58164
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  1001 KBytes  8.20 Mbits/sec                  
[  5]   1.00-2.00   sec  1.02 MBytes  8.52 Mbits/sec                  
[  5]   2.00-3.00   sec  1007 KBytes  8.25 Mbits/sec                  
[  5]   3.00-4.00   sec   898 KBytes  7.35 Mbits/sec                  
[  5]   4.00-5.00   sec   927 KBytes  7.60 Mbits/sec                  
[  5]   5.00-6.00   sec   934 KBytes  7.65 Mbits/sec                  
[  5]   6.00-7.00   sec   954 KBytes  7.81 Mbits/sec                  
[  5]   7.00-8.00   sec   908 KBytes  7.44 Mbits/sec                  
[  5]   8.00-9.00   sec   948 KBytes  7.77 Mbits/sec                  
[  5]   9.00-10.00  sec   957 KBytes  7.83 Mbits/sec                  
[  5]  10.00-11.00  sec  1019 KBytes  8.35 Mbits/sec                  
[  5]  11.00-12.00  sec   933 KBytes  7.64 Mbits/sec                  
[  5]  12.00-13.00  sec   976 KBytes  8.00 Mbits/sec                  
[  5]  13.00-14.00  sec   902 KBytes  7.39 Mbits/sec                  
[  5]  14.00-15.00  sec   938 KBytes  7.69 Mbits/sec                  
[  5]  15.00-16.00  sec   938 KBytes  7.69 Mbits/sec                  
[  5]  16.00-17.00  sec   933 KBytes  7.64 Mbits/sec                  
[  5]  17.00-18.00  sec   951 KBytes  7.79 Mbits/sec                  
[  5]  18.00-19.00  sec   971 KBytes  7.95 Mbits/sec                  
[  5]  19.00-20.00  sec   958 KBytes  7.85 Mbits/sec                  
[  5]  20.00-21.00  sec   958 KBytes  7.85 Mbits/sec                  
[  5]  21.00-22.00  sec   941 KBytes  7.71 Mbits/sec                  
[  5]  22.00-23.00  sec   961 KBytes  7.87 Mbits/sec                  
[  5]  23.00-24.00  sec   945 KBytes  7.74 Mbits/sec                  
[  5]  24.00-25.00  sec   971 KBytes  7.95 Mbits/sec                  
[  5]  25.00-26.00  sec   940 KBytes  7.70 Mbits/sec                  
[  5]  26.00-27.00  sec   959 KBytes  7.86 Mbits/sec                  
[  5]  27.00-28.00  sec   903 KBytes  7.40 Mbits/sec                  
[  5]  28.00-29.00  sec   962 KBytes  7.88 Mbits/sec                  
[  5]  29.00-30.00  sec   972 KBytes  7.96 Mbits/sec                  
[  5]  30.00-31.00  sec   908 KBytes  7.43 Mbits/sec                  
[  5]  31.00-32.00  sec   954 KBytes  7.81 Mbits/sec                  
[  5]  32.00-33.00  sec   954 KBytes  7.81 Mbits/sec                  
[  5]  33.00-34.00  sec   929 KBytes  7.61 Mbits/sec                  
[  5]  34.00-35.00  sec   941 KBytes  7.71 Mbits/sec                  
[  5]  35.00-36.00  sec   980 KBytes  8.03 Mbits/sec                  
[  5]  36.00-37.00  sec   903 KBytes  7.40 Mbits/sec                  
[  5]  37.00-38.00  sec   937 KBytes  7.68 Mbits/sec                  
[  5]  38.00-39.00  sec   544 KBytes  4.46 Mbits/sec                  
[  5]  39.00-40.00  sec   520 KBytes  4.26 Mbits/sec                  
[  5]  40.00-41.00  sec   327 KBytes  2.68 Mbits/sec                  
[  5]  41.00-42.00  sec   292 KBytes  2.39 Mbits/sec                  
[  5]  42.00-43.00  sec   548 KBytes  4.49 Mbits/sec                  
[  5]  43.00-44.00  sec   603 KBytes  4.94 Mbits/sec                  
[  5]  44.00-45.00  sec   552 KBytes  4.52 Mbits/sec                  
[  5]  45.00-46.00  sec   534 KBytes  4.38 Mbits/sec                  
[  5]  46.00-47.00  sec   487 KBytes  3.99 Mbits/sec                  
[  5]  47.00-48.00  sec   407 KBytes  3.33 Mbits/sec                  
[  5]  48.00-49.00  sec   319 KBytes  2.61 Mbits/sec                  
[  5]  49.00-50.00  sec   324 KBytes  2.66 Mbits/sec                  
[  5]  50.00-51.00  sec   231 KBytes  1.89 Mbits/sec                  
[  5]  51.00-52.00  sec   365 KBytes  2.99 Mbits/sec                  
[  5]  52.00-53.00  sec   123 KBytes  1.01 Mbits/sec                  
[  5]  53.00-54.00  sec   126 KBytes  1.03 Mbits/sec                  
[  5]  54.00-55.00  sec   313 KBytes  2.57 Mbits/sec                  
[  5]  55.00-56.00  sec   431 KBytes  3.53 Mbits/sec                  
[  5]  56.00-57.00  sec   513 KBytes  4.20 Mbits/sec                  
[  5]  57.00-58.00  sec   301 KBytes  2.46 Mbits/sec                  
[  5]  58.00-59.00  sec   217 KBytes  1.78 Mbits/sec                  
[  5]  59.00-60.00  sec   197 KBytes  1.62 Mbits/sec                  
[  5]  60.00-60.06  sec  0.00 Bytes  0.00 bits/sec                  
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Retr
[  5]   0.00-60.06  sec  43.4 MBytes  6.06 Mbits/sec    0             sender
[  5]   0.00-60.06  sec  43.3 MBytes  6.05 Mbits/sec                  receiver
+ log 'end iperf3 clients'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123409 ' 'end iperf3 clients'
20230322-123409  end iperf3 clients
+ log 'end experiment'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123409 ' 'end experiment'
20230322-123409  end experiment
+ killall -2 simple_switch
+ sleep 2
Attaching to process 2824
+ stop-monitoring
+ cd -- /home/montimage/hipnet/log
+ log 'stop tcpdump and mmt-probe'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123411 ' 'stop tcpdump and mmt-probe'
20230322-123411  stop tcpdump and mmt-probe
+ killall --signal SIGINT tcpdump
56637 packets captured56637 packets captured

56637 packets received by filter56637 packets received by filter

0 packets dropped by kernel0 packets dropped by kernel

56637 packets captured
56637 packets received by filter
0 packets dropped by kernel
+ killall --signal SIGINT mmt-probe
+ sleep 2
+ tar -czf pcap.tar.gz enp0s8-data.pcap enp0s9-data.pcap enp0s10-int.pcap
+ rm enp0s8-data.pcap enp0s9-data.pcap enp0s10-int.pcap
+ log 'processing MMT files ...'
++ now
++ date +%Y%m%d-%H%M%S
+ echo '20230322-123414 ' 'processing MMT files ...'
20230322-123414  processing MMT files ...
+ combine-mmt-csv-files data.csv
+ OUTPUT=data.csv
++ echo 'report-id,probe-id,source,timestamp,report-name,meta.packet_index,	"meta.packet_len",
	"ip.src", 
	"ip.dst", 
	"ip.proto_tos", 
	"ip.ecn",
	"ip.identification", 
	"udp.src_port","udp.dest_port","udp.len",
	"tcp.src_port","tcp.dest_port","tcp.payload_len","tcp.seq_nb","tcp.ack_nb","tcp.tsval","tcp.tsecr",
	"quic_ietf.header_form",
	"quic_ietf.spin_bit",
	"quic_ietf.rtt",
	"int.hop_queue_ids",
	"int.hop_latencies", 
	"int.hop_queue_occups",
	"int.hop_ingress_times", 
	"int.hop_egress_times",
	"int.hop_l4s_mark", 
	"int.hop_l4s_drop",
	"int.mark_probability"'
++ tr -d '"'
++ tr -d '\n'
++ tr -d '[:blank:]'
+ HEADER=report-id,probe-id,source,timestamp,report-name,meta.packet_index,meta.packet_len,ip.src,ip.dst,ip.proto_tos,ip.ecn,ip.identification,udp.src_port,udp.dest_port,udp.len,tcp.src_port,tcp.dest_port,tcp.payload_len,tcp.seq_nb,tcp.ack_nb,tcp.tsval,tcp.tsecr,quic_ietf.header_form,quic_ietf.spin_bit,quic_ietf.rtt,int.hop_queue_ids,int.hop_latencies,int.hop_queue_occups,int.hop_ingress_times,int.hop_egress_times,int.hop_l4s_mark,int.hop_l4s_drop,int.mark_probability
+ echo report-id,probe-id,source,timestamp,report-name,meta.packet_index,meta.packet_len,ip.src,ip.dst,ip.proto_tos,ip.ecn,ip.identification,udp.src_port,udp.dest_port,udp.len,tcp.src_port,tcp.dest_port,tcp.payload_len,tcp.seq_nb,tcp.ack_nb,tcp.tsval,tcp.tsecr,quic_ietf.header_form,quic_ietf.spin_bit,quic_ietf.rtt,int.hop_queue_ids,int.hop_latencies,int.hop_queue_occups,int.hop_ingress_times,int.hop_egress_times,int.hop_l4s_mark,int.hop_l4s_drop,int.mark_probability
++ find . -name '1*.csv'
+ for f in $(find . -name '1*.csv')
+ echo ' ./1679488372.807565_0_data-int.csv'
 ./1679488372.807565_0_data-int.csv
+ cat ./1679488372.807565_0_data-int.csv
+ grep '^1000,'
+ rm -- ./1679488372.807565_0_data-int.csv
+ tar -czf data.csv.tar.gz data.csv
+ python3 /home/montimage/hipnet/monitoring-mmt-tcpdump.plot.py data.csv
no display found. Using non-interactive Agg backend
Processing data.csv
number of ticks: 5584
write to data.csv.png
+ rm data.csv
