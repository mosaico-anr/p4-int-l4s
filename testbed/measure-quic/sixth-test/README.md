# Test generation

This folder contains a set of tests. Each set of tests (round) is repeated 3 times (round-1, round-2, round-3).

Each round is generated by [run-test-campaign-6th.sh](run-test-campaign-6th.sh) using the following configurations:

```bash
# 1/1
unrespECN,30,30,1000;ll_legit,0,120,3000
#
# 1/2 traffic
unrespECN,30,30,1000;ll_legit,0,120,3000;ll_legit,0,120,3001
#
# 1/5x ll traffic
unrespECN,30,30,1000;ll_legit,0,120,3000;ll_legit,0,120,3001;ll_legit,0,120,3002;ll_legit,0,120,3003;ll_legit,0,120,3004
#
# 1/10x ll traffic
unrespECN,30,30,1000;ll_legit,0,120,3000;ll_legit,0,120,3001;ll_legit,0,120,3002;ll_legit,0,120,3003;ll_legit,0,120,3004;ll_legit,0,120,3005;ll_legit,0,120,3006;ll_legit,0,120,3007;ll_legit,0,120,3008;ll_legit,0,120,3009
```

# Folder structure

- [`traffic-summary-all.txt`](traffic-summary-all.txt) summaries the result 
- Each round of test is in `round-x` folder:
   - Each test in a round is in `index-bandwidth-attack_power-flows-date-time` folder:
      - File `XMbps.txt` : Mahimahi parameter to limit bandwidth to `X` Mbps
      - File `param.json`: parameters of the current test
      - File `l4s-param.txt`: parameters of L4S P4 switch
      - File `data.csv.tar.gz`: data, in CSV format, which is generated by MMT at packet-level (each INT packet generates a line)
      - File `new_data.csv.tar.gz`: data, in CSV format, which is generated from `data.csv.tar.gz` to keep only the relevant field. Each line in `data.csv.tar.gz` generates a line in `new_data.csv.tar.gz`
      - File `synthesis_data.tar.gz`: data, in CSV format, which is generated by [generate-metrics-by-time-window.sh](https://github.com/mosaico-anr/p4-int-l4s/blob/main/testbed/measure-quic/fifth-test/generate-metrics-by-time-window.sh) from `data.csv.tar.gz` by aggregate all the lines in a time window of 33 milliseconds

