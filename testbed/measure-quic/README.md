
# Description

This folder contains statistics of the L4S switch when testing QUIC IETF traffic. Each sub folder represents a test scenario which is generated by varying one of the parameters below:
- `type`: traffic type, either `legit` or `unrespECN`
- `bandwidth`: bandwidth of the flow in Kbps. 0Kbps means no-limit. The bandwidth is limited by using [wondershaper](https://github.com/magnific0/wondershaper) at the both of client and server sides of the flow
- `start`: when the flow was started, in number of seconds since starting the testbed
- `duration`: duration of the flow, in number of seconds

The structure of a sub folder is as the following:

- `data.csv.png`: a graph of some seletected metrics to give a general view of the traffic
- `data.csv.tar.gz`: statistic data. Its fields are detailed in the next section
- `param.json`: values of the three above parameters of the test scenario
- `config.log`: configuration of the L4S switch
- `cpu_mem_int_yes_pid_xxx.txt`: CPU and memory usages of the L4S switch
- `mmt-probe.conf`: configuration of the INT collector (MMT-Probe)
- `pcap.tar.gz`: pcap file of the INT packets that were sent to the collector by the INT, and a sample of traffic. The packets are truncated to 176 bytes to save spaces.
- `script.log`: log of the script that run this test scenario
- `sw-simple.log`: log of the L4S switch
- `10.0.x.x.[q]log.tar.gz`: original statistic logs of QUIC client or server.
- `10.0.x.x.[q]log.csv`: statistic concerning RTT which are extracted from the original statistic logs.

The following figure represents the testbed: IPs of clients/servers, port numbers, NICs, etc

![testbed](testbed.jpg)

# CSV Headers

- `report-id`: report ID (alway 1000)
- `probe-id`: ID of the INT collector (always 3)
- `source`: NIC where the INT collect recived the INT packet (always 'enp0s10')
- `timestamp`: epoch timestamp when the INT packet arrived at the INT collector
- `report-name`: name of the report (always 'int')
- `packet_index`: order of the INT packet
- `meta.packet_len`: length of the INT packet, in bytes
- `ip.src`: IP source address
- `ip.dst`: IP destination address
- `ip.proto_tos`: IP type of service (ToS)
- `ip.ecn`: IP ECN number
- `ip.identification`: IP identification number
- `udp.src_port`: UDP source port number
- `udp.dest_port`: UDP destination port number
- `udp.len`: Length of the UDP payload
- `quic_ietf.header_form`: `0` == short header, `1` == long header
- `quic_ietf.spin_bit`: QUIC spin bit value when its packet uses the short header form
- `int.queue_id`: ID of the router's queue through which the packet went. 1 = LL queue, 0 = CL queue 
- `int.latency`: the time, in microsecond, that it takes for the packet to be processed within the router
- `int.queue_occups`: the number of packets in the queue (where the packet went through), at the moment the packet was sent out.
- `int.ingress_time`: switch's local time, in nanosecond, when the packet was received. The clock is set to 0 every time the switch starts.
- `int.egress_time`: switch's local time, in nanosecond, when the packet was sent out. The clock is set to 0 every time the switch starts.
- `int.nb_marked`: number of packets that have been marked by the switch
- `int.nb_dropped`: number of packets that have been dropped by the switch
- `int.mark_probability`: number that represents mark probability of that switch at the moment the packet was sent out. It is a number from 0 to 0xFFFFFFFF (32 bits)
